# C++ 环境搭建

## 1 确认开发目标

**MycobotCpp 是一个和 mycobot 进行串口通讯的接口程序，调用的是我们公司自己开发的 mycobot 库，里面有简单的使用案例。如果您想通过**c++**进行自由开发，控制我们公司已经研发出来的机器人，那么它是您的选择。**<br>
支持的机械臂型号：**myCobot 280-M5、myCobot 320-M5**<br>
**运行 MycobotCpp 所需要的软件：vs2019、qt5.12.10、vsaddin（qt 插件）。**<br>

## 2 Windows 环境配置

### 2.1 安装 vs2019

- 下载：<br>
  首先在官网下载[vs2019](https://visualstudio.microsoft.com/zh-hans/vs/)。<br><br>

- 安装：<br>
  安装完成后，会出现下图所示界面，主要选择“通用 Windows 平台开发、使用 C++的桌面开发、ASRNET 和 Web 开发”这 3 个（此处只是建议，具体可根据自己的需求选择，vs2019 安装时间较长）。<br>
  <img src="../resources/12-ApplicationBaseCPlus/12.1/12-1-2.1-001.png" alt="12-1-2.1-001" width="50%"><br>

- 环境变量配置：<br>
  此电脑--》右键 属性--》高级系统设置--》环境变量--》看系统变量处，点击新建--》变量名：VCINSTALLDIR 变量值：找到 Redist 所在目录(如：D:\vs2019\VC），具体如下图所示：<br>
  ![pic](../resources/12-ApplicationBaseCPlus/12.1/12-1-2.1-002.gif)

### 2.2 I 安装 qt5.12.10

- 下载：<br>
  下载[qt5.12.10](https://download.qt.io/archive/qt/)及以上版本都可以，具体操作如下图：<br>
  ![pic](../resources/12-ApplicationBaseCPlus/12.1/12-1-2.2-001.gif)<br>
- 安装：<br>
  首先登录 qt 账号，没有就先注册。接下来会出现选择组件的界面，windows 上选择 MinGW 和 MSVC 即可，具体如下图所示：<br>
  <img src="../resources/12-ApplicationBaseCPlus/12.1/12-1-2.2-002.jpg" alt="12-1-2.2-002" width="50%"><br>
- 环境变量配置：<br>
  此电脑--》右键 属性--》高级系统设置--》环境变量--》看系统变量处，点击新建--》变量名：QTDIR 变量值：msvc2017_64 所在目录（如：D:\qt5.12.10\5.12.10\msvc2017_64，具体看自己电脑的安装路径），具体如下图所示：<br>
  ![pic](../resources/12-ApplicationBaseCPlus/12.1/12-1-2.2-003.gif)<br>

### 2.3 安装 qt 插件 vsaddin

- 下载：<br>
  首先选择对应 vs2019 的[vsaddin](https://download.qt.io/archive/vsaddin/)版本,具体操作如下图：<br>
  ![pic](../resources/12-ApplicationBaseCPlus/12.1/12-1-2.3-001.gif)<br>
- 安装：直接安装即可<br>
- 配置：<br>
  vs2019 菜单栏 扩展--》QT VS ToolS--》QT Versions--》add new qtversion Path 选择 msvc2017_64 所在路径（如：D:\qt5.12.10\5.12.10\msvc2017_64），具体操作如下图所示：<br>
  ![pic](../resources/12-ApplicationBaseCPlus/12.1/12-1-2.3-002.gif)<br>

## 3 Linux 环境配置

### 3.1 安装 qt5.12.10

- 下载：<br>
  下载地址和 Windows 一样，选择 linux 上的安装包即可，具体可看上面的 8.1.2.2。<br>

- 安装：<br>
  命令行安装：运行./“安装包名称”，如果没有执行权限，加执行权限：sudo chmod +x “安装包名称”，然后进入图形界面，和 Windows 一样；<br>
  图形界面安装：和 Windows 一样。<br>
  建议直接普通用户权限安装 qt，安装成功后可以执行 qmake --version，出现如下界面安装成功：<br>
  ![pic](../resources/12-ApplicationBaseCPlus/12.1/12-1-3.1-001.gif)<br>
- 配置：<br>
  打开配置文件，普通用户安装 qt：vi ~/.bashrc，root 用户安装 qt：vi ~/.profile。在配置文件中添加：export QTDIR=“qt 所在目录”（如：export QTDIR=$HOME/Qt/5.12.10/gcc_64），具体如下图所示：<br>
  ![pic](../resources/12-ApplicationBaseCPlus/12.1/12-1-3.1-002.gif)<br>

---

[← 上一页](README.md) | [下一页 →](12.2-build.md)
