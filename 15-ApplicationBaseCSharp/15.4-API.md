# myCobot API

## 1 控制机械臂前提<br>

1.1 **MyCobot (string port, int baud=115200)**<br>

Function: Instantiate MyCobot<br>
功能：实例化 MyCobot<br>
返回值：无<br>
参数说明：参数 1：串口号（Windows 上为”COM\*“（如 COM30） 参数 2： 波特率（默认为 115200）<br>
注意：**如果要调用下面的 API，需要先实例化**<br>

1.2 **Open()**<br>
功能：打开串口 <br>
返回值：无<br>
参数说明：无<br>
注意：**要与机械臂通信，需要先打开串口**<br>

1.3 **Close()** <br>
功能：关闭串口 <br>
返回值：无<br>
参数说明：无<br>
注意：**在程序结束时，最好关闭串口**<br>

## 2 机器人整体运行状态 Overall Status

2.1 **PowerOn();** <br>
功能：机械臂上电 <br>
返回值：无<br>
参数说明：无<br>
注意：**机械臂上电后，将无法手动移动机械臂**<

2.2 **PowerOff()** <br>
功能：机械臂掉电 <br>
返回值：无<br>
参数说明：无<br>
注意：**机械臂上电后，想手动移动机械臂，可以使用此 api，让机械臂掉电**<br>

## 3 输入程序控制模式 MDI Mode and Robot Control (Manual Data Input)

3.1 **SendOneAngle(int jointNo, int angle, int speed)**<br>
功能：发送单关节角度<br>
返回值：无<br>
参数说明：参数 1：关节号（**1 - 6**), 参数 2：角度（范围：**-170°- 170°**）,参数 3：速度（**0-100**）<br>

3.2 **GetAngles()**<br>
功能：获取所有关节角度<br>
返回值：返回 int 类型数组，int[], length: 6<br>
参数说明：无<br>

3.3 **SendAngles(int[] angles, int speed)**<br>
功能说明：发送所有关节角度<br>
返回值：无<br>
参数说明：参数 1：所有关节角度（范围：**-170°- 170°**）, 参数 2：速度（**0-100**）<br>

3.4 **GetCoords()**<br>
功能：获取所有坐标<br>
返回值：返回 int 类型数组，int[], length: 6<br>
参数说明：无<br>

3.5 **SendCoords(int[] coords, int speed, int mode)**<br>
功能：发送多参数坐标<br>
返回值：无<br>
参数说明：参数 1：所有坐标（X、Y、Z 取值范围 -300-300.00 单位 mm RX、RY、RZ,取值范围**-180-180**）, 参数 2：速度（**0-100**）, 参数 3：模式（**0 - angular, 1 - linear**）<br>

3.6 **SendOneCoord(int coord, int value, int speed)**<br>
功能：发送单参数坐标<br>
返回值：无<br>
参数说明：参数 1：坐标号(1-6(**x、y、z、rx、ry、rz**)), 参数 2：坐标（X、Y、Z 取值范围 -300-300.00 单位 mm RX、RY、RZ,取值范围**-180-180**）, 参数 3：速度（**0-100**）<br>

## 4 Atom 末端 IO 控制 Atom IO Control

4.1 **SetDigitalOut(byte pin_number, byte pin_signal)**<br>
功能：设置输出 io 高低电平<br>
返回值：无<br>
参数说明：参数 1：引脚号（atom 输出引脚号），参数 2：状态（0--低电平，1--高电平）<br>

4.2 **GetDigitalIn(byte pin_number)**<br>
功能：获取输入 io 状态<br>
返回值：引脚状态（0--低电平，1--高电平）<br>
参数说明：引脚号（atom 输入引脚号）<br>

4.3 **SetGripperMode(byte mode)**<br>
功能：设置抓取模式<br>
返回值：无<br>
参数说明： 参数 1：模式：1-透明模式，0-IO 模式<br>

4.4 **setGripperValue(byte angle, byte speed)**<br>
功能：控制自适应夹爪<br>
返回值：无<br>
参数说明：参数 1：夹爪开合角度（0-100，0--闭合，100-张开最大角度），参数 2：夹爪开合速度（0-100）<br>

4.5 **SetElectricGriper(byte open)**<br>
功能：控制电动夹爪<br>
返回值：无<br>
参数说明：夹爪开关状态（0--关，1--开）<br>

4.6 **getGripperValue()**<br>
功能：获取自适应夹爪角度<br>
返回值：int 类型，返回夹爪角度（0--闭合，100-张开最大角度）<br>
参数说明：无<br>

## 5 底座 M5Stack-basicIO 控制 M5Stack-basic IO Control

5.1 **SetBasicOut(byte pin_number, byte pin_signal)**<br>
功能：设置输出 io 高低电平<br>
返回值：无<br>
参数说明：参数 1：引脚号（basic 输出引脚号），参数 2：状态（0--低电平，1--高电平）<br>

5.2 **GetBasicIn(byte pin_number)**<br>
功能：获取输入 io 状态<br>
返回值：引脚状态（0--低电平，1--高电平）<br>
参数说明：引脚号（basic 输入引脚号）<br>

---

[← 上一节](../15-ApplicationBaseCSharp/15.3-angle.md) | [下一页 →](../15-ApplicationBaseCSharp/15.5-case.md)
